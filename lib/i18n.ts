
import { create } from 'zustand';

type Lang = 'cs' | 'en' | 'uk';

interface I18nStore {
  lang: Lang;
  setLang: (l: Lang) => void;
  t: (key: string) => string;
}

const translations: Record<Lang, Record<string, string>> = {
  cs: {
    'app.name': 'TechMaintain Pro',
    'menu.dashboard': 'Přehled',
    'menu.locations': 'Lokality',
    'menu.suppliers': 'Dodavatelé',
    'menu.tech_config': 'Nastavení Technologií',
    'menu.assets': 'Majetek',
    'menu.requests': 'Požadavky',
    'menu.maintenance': 'Plán Údržby',
    'menu.users': 'Uživatelé',
    
    'common.add': 'Přidat',
    'common.edit': 'Upravit',
    'common.delete': 'Smazat',
    'common.save': 'Uložit',
    'common.cancel': 'Zrušit',
    'common.create': 'Vytvořit',
    'common.actions': 'Akce',
    'common.search': 'Hledat...',
    'common.date': 'Datum',
    'common.status': 'Stav',
    'common.back': 'Zpět',
    'common.yes': 'Ano',
    'common.no': 'Ne',
    'common.all': 'Vše',
    'common.filter': 'Filtr',
    'common.clear_filter': 'Vyčistit filtr',
    'common.selected': 'vybráno',
    'common.ok': 'OK',
    'common.warning': 'Upozornění',
    'common.confirmation': 'Potvrzení',
    'common.confirm': 'Potvrdit',

    'msg.confirm_delete': 'Opravdu chcete smazat tento záznam?',
    'msg.cannot_delete_used': 'Záznam nelze smazat, protože je používán.',
    'msg.admin_full_access': 'Administrátor má automaticky přístup ke všem lokalitám a pracovištím.',
    'msg.no_my_requests': 'Nemáte žádné aktivní požadavky.',

    'validation.required': 'Toto pole je povinné',

    'form.name': 'Název',
    'form.description': 'Popis',
    'form.street': 'Ulice',
    'form.street_and_number': 'Ulice a číslo popisné',
    'form.number': 'Číslo',
    'form.zip': 'PSČ',
    'form.city': 'Město',
    'form.country': 'Země',
    'form.email': 'Email',
    'form.phone': 'Telefon',
    'form.ic': 'IČ',
    'form.dic': 'DIČ',
    'form.position': 'Pozice',
    'form.role': 'Role',
    'form.install_date': 'Datum instalace',
    'form.weight': 'Hmotnost (kg)',
    'form.documentation': 'Dokumentace (odkaz)',
    'form.type': 'Typ',
    'form.state': 'Stav',
    'form.workplace': 'Pracoviště',
    'form.location': 'Lokalita',
    'form.supplier': 'Dodavatel',
    'form.user_name': 'Jméno',
    'form.blocked': 'Blokovat přístup',
    'form.permissions': 'Oprávnění',
    'form.photos': 'Fotodokumentace',
    'form.add_photo': 'Přidat fotku',
    'form.is_visible': 'Aktivní',
    'form.cancellation_reason': 'Důvod storna',
    'form.planned_resolution_date': 'Plánované datum vyřešení',
    'form.responsible_person': 'Odpovědné osoby',
    'form.date_from': 'Datum od',
    'form.date_to': 'Datum do',
    'form.plan_hours': 'Plánované hodiny',
    'form.maintenance_type': 'Typ údržby',
    'form.final_report': 'Závěrečná zpráva',
    'form.add_note': 'Přidat poznámku',
    'form.real_date_from': 'Skutečné datum od',
    'form.real_date_to': 'Skutečné datum do',

    'headers.locations': 'Seznam Lokalít',
    'headers.new_location': 'Nová Lokalita',
    'headers.edit_location': 'Upravit Lokalitu',
    'headers.workplaces': 'Pracoviště',
    'headers.new_supplier': 'Nový Dodavatel',
    'headers.edit_supplier': 'Upravit Dodavatele',
    'headers.new_user': 'Nový Uživatel',
    'headers.new_tech_type': 'Nový Typ Technologie',
    'headers.new_tech_state': 'Nový Stav Technologie',
    'headers.contacts': 'Kontaktní osoby',
    'headers.tech_types': 'Typy Technologií',
    'headers.tech_states': 'Stavy Technologií',
    'headers.new_request': 'Nový Požadavek',
    'headers.new_maintenance': 'Naplánovat údržbu',
    'headers.edit_maintenance': 'Upravit údržbu',
    'headers.request_detail': 'Detail požadavku',
    'headers.maintenance_detail': 'Detail údržby',
    'headers.maintenance_plan': 'Plán údržby',
    'headers.history': 'Historie',
    'headers.my_history': 'Moje Historie',
    'headers.comments': 'Komentáře',
    'headers.notes': 'Poznámky',
    'headers.cancel_request': 'Storno požadavku',
    'headers.assign_request': 'Převzít požadavek',
    'headers.complete_maintenance': 'Dokončení údržby',

    'dashboard.my_unresolved': 'Moje nevyřešené',
    'dashboard.new_requests': 'Nové Požadavky',
    'dashboard.active_maintenance': 'Probíhající údržba',
    'dashboard.total_assets': 'Celkem Technologií',

    'role.admin': 'Administrátor',
    'role.maintenance': 'Údržbář',
    'role.operator': 'Obsluha',
    
    'status.new': 'Nový',
    'status.assigned': 'V řešení',
    'status.solved': 'Vyřešeno',
    'status.cancelled': 'Stornováno',
    'status.planned': 'Naplánovaná',
    'status.in_progress': 'Probíhající',
    'status.done': 'Dokončena',
    
    'prio.basic': 'Běžná',
    'prio.priority': 'Prioritní',
    'prio.urgent': 'Urgentní',

    'col.open_requests': 'Požadavky',
    'col.next_maintenance': 'Další údržba'
  },
  en: {
    'app.name': 'TechMaintain Pro',
    'menu.dashboard': 'Dashboard',
    'menu.locations': 'Locations',
    'menu.suppliers': 'Suppliers',
    'menu.tech_config': 'Tech Config',
    'menu.assets': 'Assets',
    'menu.requests': 'Requests',
    'menu.maintenance': 'Maintenance Plan',
    'menu.users': 'Users',
    
    'common.add': 'Add',
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.create': 'Create',
    'common.actions': 'Actions',
    'common.search': 'Search...',
    'common.date': 'Date',
    'common.status': 'Status',
    'common.back': 'Back',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.all': 'All',
    'common.filter': 'Filter',
    'common.clear_filter': 'Clear Filter',
    'common.selected': 'selected',
    'common.ok': 'OK',
    'common.warning': 'Warning',
    'common.confirmation': 'Confirmation',
    'common.confirm': 'Confirm',

    'msg.confirm_delete': 'Are you sure you want to delete this record?',
    'msg.cannot_delete_used': 'Cannot delete, record is in use.',
    'msg.admin_full_access': 'Administrator automatically has access to all locations and workplaces.',
    'msg.no_my_requests': 'You have no active requests.',

    'validation.required': 'This field is required',

    'form.name': 'Name',
    'form.description': 'Description',
    'form.street': 'Street',
    'form.street_and_number': 'Street and Number',
    'form.number': 'Number',
    'form.zip': 'ZIP',
    'form.city': 'City',
    'form.country': 'Country',
    'form.email': 'Email',
    'form.phone': 'Phone',
    'form.ic': 'Reg. No.',
    'form.dic': 'VAT ID',
    'form.position': 'Position',
    'form.role': 'Role',
    'form.install_date': 'Install Date',
    'form.weight': 'Weight (kg)',
    'form.documentation': 'Documentation (Link)',
    'form.type': 'Type',
    'form.state': 'State',
    'form.workplace': 'Workplace',
    'form.location': 'Location',
    'form.supplier': 'Supplier',
    'form.user_name': 'Name',
    'form.blocked': 'Block Access',
    'form.permissions': 'Permissions',
    'form.photos': 'Photos',
    'form.add_photo': 'Add Photo',
    'form.is_visible': 'Active',
    'form.cancellation_reason': 'Cancellation Reason',
    'form.planned_resolution_date': 'Planned Resolution Date',
    'form.responsible_person': 'Responsible Persons',
    'form.date_from': 'Date From',
    'form.date_to': 'Date To',
    'form.plan_hours': 'Planned Hours',
    'form.maintenance_type': 'Maintenance Type',
    'form.final_report': 'Final Report',
    'form.add_note': 'Add Note',
    'form.real_date_from': 'Actual Date From',
    'form.real_date_to': 'Actual Date To',

    'headers.locations': 'Locations List',
    'headers.new_location': 'New Location',
    'headers.edit_location': 'Edit Location',
    'headers.workplaces': 'Workplaces',
    'headers.new_supplier': 'New Supplier',
    'headers.edit_supplier': 'Edit Supplier',
    'headers.new_user': 'New User',
    'headers.new_tech_type': 'New Tech Type',
    'headers.new_tech_state': 'New Tech State',
    'headers.contacts': 'Contact Persons',
    'headers.tech_types': 'Tech Types',
    'headers.tech_states': 'Tech States',
    'headers.new_request': 'New Request',
    'headers.new_maintenance': 'Schedule Maintenance',
    'headers.edit_maintenance': 'Edit Maintenance',
    'headers.request_detail': 'Request Detail',
    'headers.maintenance_detail': 'Maintenance Detail',
    'headers.maintenance_plan': 'Maintenance Plan',
    'headers.history': 'History',
    'headers.my_history': 'My History',
    'headers.comments': 'Comments',
    'headers.notes': 'Notes',
    'headers.cancel_request': 'Cancel Request',
    'headers.assign_request': 'Assign Request',
    'headers.complete_maintenance': 'Complete Maintenance',

    'dashboard.my_unresolved': 'My Unresolved',
    'dashboard.new_requests': 'New Requests',
    'dashboard.active_maintenance': 'Active Maintenance',
    'dashboard.total_assets': 'Total Assets',

    'role.admin': 'Administrator',
    'role.maintenance': 'Maintenance',
    'role.operator': 'Operator',
    
    'status.new': 'New',
    'status.assigned': 'In Progress',
    'status.solved': 'Solved',
    'status.cancelled': 'Cancelled',
    'status.planned': 'Planned',
    'status.in_progress': 'In Progress',
    'status.done': 'Done',
    
    'prio.basic': 'Basic',
    'prio.priority': 'Priority',
    'prio.urgent': 'Urgent',

    'col.open_requests': 'Requests',
    'col.next_maintenance': 'Next Maint.'
  },
  uk: {
    'app.name': 'TechMaintain Pro',
    'menu.dashboard': 'Огляд',
    'menu.locations': 'Локації',
    'menu.suppliers': 'Постачальники',
    'menu.tech_config': 'Налаштування Технологій',
    'menu.assets': 'Майно',
    'menu.requests': 'Запити',
    'menu.maintenance': 'План обслуговування',
    'menu.users': 'Користувачі',
    
    'common.add': 'Додати',
    'common.edit': 'Редагувати',
    'common.delete': 'Видалити',
    'common.save': 'Зберегти',
    'common.cancel': 'Скасувати',
    'common.create': 'Створити',
    'common.actions': 'Дії',
    'common.search': 'Пошук...',
    'common.date': 'Дата',
    'common.status': 'Статус',
    'common.back': 'Назад',
    'common.yes': 'Так',
    'common.no': 'Ні',
    'common.all': 'Все',
    'common.filter': 'Фільтр',
    'common.clear_filter': 'Очистити фільтр',
    'common.selected': 'вибрано',
    'common.ok': 'OK',
    'common.warning': 'Увага',
    'common.confirmation': 'Підтвердження',
    'common.confirm': 'Підтвердити',

    'msg.confirm_delete': 'Ви впевнені, що хочете видалити цей запис?',
    'msg.cannot_delete_used': 'Неможливо видалити, запис використовується.',
    'msg.admin_full_access': 'Адміністратор автоматично має доступ до всіх локацій та робочих місць.',
    'msg.no_my_requests': 'У вас немає активних запитів.',

    'validation.required': "Це поле є обов'язковим",

    'form.name': 'Назва',
    'form.description': 'Опис',
    'form.street': 'Вулиця',
    'form.street_and_number': 'Вулиця та номер',
    'form.number': 'Номер',
    'form.zip': 'Індекс',
    'form.city': 'Місто',
    'form.country': 'Країна',
    'form.email': 'Email',
    'form.phone': 'Телефон',
    'form.ic': 'ЄДРПОУ',
    'form.dic': 'ІПН',
    'form.position': 'Посада',
    'form.role': 'Роль',
    'form.install_date': 'Дата встановлення',
    'form.weight': 'Вага (кг)',
    'form.documentation': 'Документація (посилання)',
    'form.type': 'Тип',
    'form.state': 'Стан',
    'form.workplace': 'Робоче місце',
    'form.location': 'Локація',
    'form.supplier': 'Постачальник',
    'form.user_name': "Ім'я",
    'form.blocked': 'Заблокувати доступ',
    'form.permissions': 'Права доступу',
    'form.photos': 'Фотографії',
    'form.add_photo': 'Додати фото',
    'form.is_visible': 'Активний',
    'form.cancellation_reason': 'Причина скасування',
    'form.planned_resolution_date': 'Планова дата вирішення',
    'form.responsible_person': 'Відповідальні особи',
    'form.date_from': 'Дата з',
    'form.date_to': 'Дата по',
    'form.plan_hours': 'Планові години',
    'form.maintenance_type': 'Тип обслуговування',
    'form.final_report': 'Заключний звіт',
    'form.add_note': 'Додати примітку',
    'form.real_date_from': 'Фактична дата з',
    'form.real_date_to': 'Фактична дата по',

    'headers.locations': 'Список локацій',
    'headers.new_location': 'Нова локація',
    'headers.edit_location': 'Редагувати локацію',
    'headers.workplaces': 'Робочі місця',
    'headers.new_supplier': 'Новий постачальник',
    'headers.edit_supplier': 'Редагувати постачальника',
    'headers.new_user': 'Новий користувач',
    'headers.new_tech_type': 'Новий тип технології',
    'headers.new_tech_state': 'Новий стан технології',
    'headers.contacts': 'Контактні особи',
    'headers.tech_types': 'Типи технологій',
    'headers.tech_states': 'Стани технологій',
    'headers.new_request': 'Nový Požadavek',
    'headers.new_maintenance': 'Запланувати обслуговування',
    'headers.edit_maintenance': 'Редагувати обслуговування',
    'headers.request_detail': 'Деталі запиту',
    'headers.maintenance_detail': 'Деталі обслуговування',
    'headers.maintenance_plan': 'План обслуговування',
    'headers.history': 'Історія',
    'headers.my_history': 'Моя історія',
    'headers.comments': 'Коментарі',
    'headers.notes': 'Примітки',
    'headers.cancel_request': 'Скасування запиту',
    'headers.assign_request': 'Прийняти запит',
    'headers.complete_maintenance': 'Завершення обслуговування',

    'dashboard.my_unresolved': 'Мої невирішені',
    'dashboard.new_requests': 'Нові запити',
    'dashboard.active_maintenance': 'Поточне обслуговування',
    'dashboard.total_assets': 'Всього активів',

    'role.admin': 'Адміністратор',
    'role.maintenance': 'Технік',
    'role.operator': 'Оператор',
    
    'status.new': 'Новий',
    'status.assigned': 'В роботі',
    'status.solved': 'Вирішено',
    'status.cancelled': 'Скасовано',
    'status.planned': 'Заплановано',
    'status.in_progress': 'В процесі',
    'status.done': 'Виконано',
    
    'prio.basic': 'Звичайна',
    'prio.priority': 'Пріоритетна',
    'prio.urgent': 'Термінова',

    'col.open_requests': 'Запити',
    'col.next_maintenance': 'Наст. обсл.'
  }
};

export const useI18n = create<I18nStore>((set, get) => ({
  lang: 'cs',
  setLang: (lang) => set({ lang }),
  t: (key) => {
    const lang = get().lang;
    return translations[lang][key] || key;
  }
}));
