
import { create } from 'zustand';

type Lang = 'cs' | 'en' | 'uk';

interface I18nStore {
  lang: Lang;
  setLang: (l: Lang) => void;
  t: (key: string) => string;
}

const translations: Record<Lang, Record<string, string>> = {
  cs: {
    'app.name': 'FHB maintain',
    'menu.dashboard': 'Přehled',
    'menu.locations': 'Lokality',
    'menu.suppliers': 'Dodavatelé',
    'menu.tech_config': 'Nastavení Technologií',
    'menu.assets': 'Technologie',
    'menu.requests': 'Požadavky',
    'menu.maintenance': 'Šablony Údržby',
    'menu.users': 'Uživatelé',
    'menu.emails': 'Emaily',
    
    'common.add': 'Přidat',
    'common.edit': 'Upravit',
    'common.delete': 'Smazat',
    'common.save': 'Uložit',
    'common.cancel': 'Zrušit',
    'common.create': 'Vytvořit',
    'common.actions': 'Akce',
    'common.search': 'Hledat...',
    'common.date': 'Datum',
    'common.status': 'Stav',
    'common.back': 'Zpět',
    'common.yes': 'Ano',
    'common.no': 'Ne',
    'common.all': 'Vše',
    'common.filter': 'Filtr',
    'common.clear_filter': 'Vyčistit filtr',
    'common.selected': 'vybráno',
    'common.ok': 'OK',
    'common.warning': 'Upozornění',
    'common.confirmation': 'Potvrzení',
    'common.confirm': 'Potvrdit',
    'common.email': 'Email',
    'common.days': 'dní',
    'common.approve': 'Schválit',
    'common.reject': 'Zamítnout',
    'common.page': 'Strana',
    'common.per_page': 'na stránku',
    'common.showing': 'Zobrazuji',
    'common.of': 'z',
    'common.subject': 'Předmět',
    'common.recipient': 'Příjemce',
    'common.retry': 'Znovu odeslat',

    'auth.forgot_password': 'Zapomenuté heslo',
    'auth.send_link': 'Odeslat odkaz',
    'auth.link_sent_title': 'Odkaz odeslán',
    'auth.link_sent_msg': 'Kliknutím na odkaz níže simulujete reset hesla (v produkci by přišel emailem).',
    'auth.new_password': 'Nové heslo',
    'auth.reset_password': 'Obnovit heslo',
    'auth.reset_success': 'Heslo bylo úspěšně změněno.',
    'auth.token_invalid': 'Neplatný nebo již použitý odkaz pro obnovu hesla.',
    'auth.back_to_login': 'Zpět na přihlášení',

    'msg.confirm_delete': 'Opravdu chcete smazat tento záznam?',
    'msg.cannot_delete_used': 'Záznam nelze smazat, protože je používán.',
    'msg.admin_full_access': 'Administrátor má automaticky přístup ke všem lokalitám a pracovištím a neomezený limit.',
    'msg.no_my_requests': 'Nemáte žádné aktivní požadavky.',
    'msg.cost_exceeds_limit': 'Cena přesahuje váš schvalovací limit. Požadavek byl označen jako neschválený.',
    'msg.must_be_approved': 'Požadavek musí být schválen před zahájením nebo dokončením prací.',

    'validation.required': 'Toto pole je povinné',

    'form.name': 'Název',
    'form.title': 'Název',
    'form.serial_number': 'Výrobní číslo',
    'form.description': 'Popis',
    'form.street': 'Ulice',
    'form.street_and_number': 'Ulice a číslo popisné',
    'form.number': 'Číslo',
    'form.zip': 'PSČ',
    'form.city': 'Město',
    'form.country': 'Země',
    'form.email': 'Email',
    'form.phone': 'Telefon',
    'form.ic': 'IČ',
    'form.dic': 'DIČ',
    'form.position': 'Pozice',
    'form.role': 'Role',
    'form.install_date': 'Datum instalace',
    'form.weight': 'Hmotnost (kg)',
    'form.documentation': 'Dokumentace (odkaz)',
    'form.type': 'Typ',
    'form.state': 'Stav',
    'form.workplace': 'Pracoviště',
    'form.location': 'Lokalita',
    'form.supplier': 'Dodavatel',
    'form.user_name': 'Jméno',
    'form.blocked': 'Blokovat přístup',
    'form.permissions': 'Oprávnění a Limity',
    'form.photos': 'Fotodokumentace',
    'form.add_photo': 'Přidat fotku',
    'form.is_visible': 'Aktivní',
    'form.cancellation_reason': 'Důvod storna',
    'form.planned_resolution_date': 'Očekávané datum vyřešení',
    'form.responsible_person': 'Odpovědné osoby',
    'form.interval': 'Interval (dny)',
    'form.allowed_days': 'Povolené dny generování',
    'form.plan_hours': 'Plánované hodiny',
    'form.maintenance_type': 'Typ údržby',
    'form.final_report': 'Závěrečná zpráva',
    'form.add_note': 'Přidat poznámku',
    'form.real_date_from': 'Skutečné datum od',
    'form.real_date_to': 'Skutečné datum do',
    'form.estimated_cost': 'Odhadovaná cena (EUR)',
    'form.approval_limit': 'Limit schválení (EUR)',
    'form.is_approved': 'Schváleno',

    'day.0': 'Ne',
    'day.1': 'Po',
    'day.2': 'Út',
    'day.3': 'St',
    'day.4': 'Čt',
    'day.5': 'Pá',
    'day.6': 'So',

    'headers.locations': 'Seznam Lokalít',
    'headers.new_location': 'Nová Lokalita',
    'headers.edit_location': 'Upravit Lokalitu',
    'headers.workplaces': 'Pracoviště',
    'headers.new_supplier': 'Nový Dodavatel',
    'headers.edit_supplier': 'Upravit Dodavatele',
    'headers.new_user': 'Nový Uživatel',
    'headers.new_tech_type': 'Nový Typ Technologie',
    'headers.new_tech_state': 'Nový Stav Technologie',
    'headers.contacts': 'Kontaktní osoby',
    'headers.tech_types': 'Typy Technologií',
    'headers.tech_states': 'Stavy Technologií',
    'headers.new_request': 'Nový Požadavek',
    'headers.new_maintenance': 'Nová šablona údržby',
    'headers.edit_maintenance': 'Upravit šablonu',
    'headers.request_detail': 'Detail požadavku',
    'headers.maintenance_detail': 'Detail šablony',
    'headers.maintenance_plan': 'Šablony údržby',
    'headers.history': 'Historie',
    'headers.my_history': 'Moje Historie',
    'headers.comments': 'Komentáře',
    'headers.notes': 'Poznámky',
    'headers.cancel_request': 'Storno požadavku',
    'headers.assign_request': 'Převzít požadavek',
    'headers.complete_maintenance': 'Dokončení údržby',
    'headers.change_approval': 'Změna schválení',
    'headers.emails': 'Správa Emailů',

    'dashboard.requests_overview': 'Agenda Požadavků',
    'dashboard.my_unresolved': 'Moje nevyřešené',
    'dashboard.new_requests': 'Nové',
    'dashboard.to_solve': 'K řešení',
    'dashboard.to_approve': 'Ke schválení',
    'dashboard.active_maintenance': 'Aktivní šablony',
    'dashboard.total_assets': 'Celkem Technologií',
    'dashboard.upcoming_maintenance': 'Nadcházející údržba',

    'role.admin': 'Administrátor',
    'role.maintenance': 'Údržbář',
    'role.operator': 'Obsluha',
    
    'status.new': 'Nový',
    'status.assigned': 'V řešení',
    'status.solved': 'Vyřešeno',
    'status.cancelled': 'Stornováno',
    'status.planned': 'Aktivní',
    'status.in_progress': 'Aktivní',
    'status.done': 'Neaktivní',
    'status.sent': 'Odesláno',
    'status.pending': 'Čeká',
    'status.error': 'Chyba',
    
    'prio.basic': 'Běžná',
    'prio.priority': 'Prioritní',
    'prio.urgent': 'Urgentní',

    'col.open_requests': 'Požadavky',
    'col.next_maintenance': 'Perioda',
    'col.approved': 'Schváleno',

    'action.created': 'Vytvořeno',
    'action.status_change': 'Změna stavu',
    'action.approved': 'Schváleno',
    'action.rejected': 'Zamítnuto',
    'action.edited': 'Upraveno',
    'action.comment': 'Komentář'
  },
  en: {
    'app.name': 'FHB maintain',
    'menu.dashboard': 'Dashboard',
    'menu.locations': 'Locations',
    'menu.suppliers': 'Suppliers',
    'menu.tech_config': 'Tech Config',
    'menu.assets': 'Technologies',
    'menu.requests': 'Requests',
    'menu.maintenance': 'Maintenance Templates',
    'menu.users': 'Users',
    'menu.emails': 'Emails',
    
    'common.add': 'Add',
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.create': 'Create',
    'common.actions': 'Actions',
    'common.search': 'Search...',
    'common.date': 'Date',
    'common.status': 'Status',
    'common.back': 'Back',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.all': 'All',
    'common.filter': 'Filter',
    'common.clear_filter': 'Clear Filter',
    'common.selected': 'selected',
    'common.ok': 'OK',
    'common.warning': 'Warning',
    'common.confirmation': 'Confirmation',
    'common.confirm': 'Confirm',
    'common.email': 'Email',
    'common.days': 'days',
    'common.approve': 'Approve',
    'common.reject': 'Reject',
    'common.page': 'Page',
    'common.per_page': 'per page',
    'common.showing': 'Showing',
    'common.of': 'of',
    'common.subject': 'Subject',
    'common.recipient': 'Recipient',
    'common.retry': 'Retry Sending',

    'auth.forgot_password': 'Forgot Password',
    'auth.send_link': 'Send Link',
    'auth.link_sent_title': 'Link Sent',
    'auth.link_sent_msg': 'Click the link below to simulate password reset (in production this would be emailed).',
    'auth.new_password': 'New Password',
    'auth.reset_password': 'Reset Password',
    'auth.reset_success': 'Password changed successfully.',
    'auth.token_invalid': 'Invalid or expired password reset link.',
    'auth.back_to_login': 'Back to Login',

    'msg.confirm_delete': 'Are you sure you want to delete this record?',
    'msg.cannot_delete_used': 'Cannot delete, record is in use.',
    'msg.admin_full_access': 'Administrator automatically has access to all locations and workplaces with unlimited limit.',
    'msg.no_my_requests': 'You have no active requests.',
    'msg.cost_exceeds_limit': 'Cost exceeds your approval limit. Request marked as not approved.',
    'msg.must_be_approved': 'Request must be approved before starting or completing work.',

    'validation.required': 'This field is required',

    'form.name': 'Name',
    'form.title': 'Title',
    'form.serial_number': 'Serial Number',
    'form.description': 'Description',
    'form.street': 'Street',
    'form.street_and_number': 'Street and Number',
    'form.number': 'Number',
    'form.zip': 'ZIP',
    'form.city': 'City',
    'form.country': 'Country',
    'form.email': 'Email',
    'form.phone': 'Phone',
    'form.ic': 'Reg. No.',
    'form.dic': 'VAT ID',
    'form.position': 'Position',
    'form.role': 'Role',
    'form.install_date': 'Install Date',
    'form.weight': 'Weight (kg)',
    'form.documentation': 'Documentation (Link)',
    'form.type': 'Type',
    'form.state': 'State',
    'form.workplace': 'Workplace',
    'form.location': 'Location',
    'form.supplier': 'Supplier',
    'form.user_name': 'Name',
    'form.blocked': 'Block Access',
    'form.permissions': 'Permissions & Limits',
    'form.photos': 'Photos',
    'form.add_photo': 'Add Photo',
    'form.is_visible': 'Active',
    'form.cancellation_reason': 'Cancellation Reason',
    'form.planned_resolution_date': 'Expected Resolution Date',
    'form.responsible_person': 'Responsible Persons',
    'form.interval': 'Interval (days)',
    'form.allowed_days': 'Allowed Generation Days',
    'form.plan_hours': 'Planned Hours',
    'form.maintenance_type': 'Maintenance Type',
    'form.final_report': 'Final Report',
    'form.add_note': 'Add Note',
    'form.real_date_from': 'Actual Date From',
    'form.real_date_to': 'Actual Date To',
    'form.estimated_cost': 'Estimated Cost (EUR)',
    'form.approval_limit': 'Approval Limit (EUR)',
    'form.is_approved': 'Approved',

    'day.0': 'Sun',
    'day.1': 'Mon',
    'day.2': 'Tue',
    'day.3': 'Wed',
    'day.4': 'Thu',
    'day.5': 'Fri',
    'day.6': 'Sat',

    'headers.locations': 'Locations List',
    'headers.new_location': 'New Location',
    'headers.edit_location': 'Edit Location',
    'headers.workplaces': 'Workplaces',
    'headers.new_supplier': 'New Supplier',
    'headers.edit_supplier': 'Edit Supplier',
    'headers.new_user': 'New User',
    'headers.new_tech_type': 'New Tech Type',
    'headers.new_tech_state': 'New Tech State',
    'headers.contacts': 'Contact Persons',
    'headers.tech_types': 'Tech Types',
    'headers.tech_states': 'Tech States',
    'headers.new_request': 'New Request',
    'headers.new_maintenance': 'New Maintenance Template',
    'headers.edit_maintenance': 'Edit Template',
    'headers.request_detail': 'Request Detail',
    'headers.maintenance_detail': 'Template Detail',
    'headers.maintenance_plan': 'Maintenance Templates',
    'headers.history': 'History',
    'headers.my_history': 'My History',
    'headers.comments': 'Comments',
    'headers.notes': 'Notes',
    'headers.cancel_request': 'Cancel Request',
    'headers.assign_request': 'Assign Request',
    'headers.complete_maintenance': 'Complete Maintenance',
    'headers.change_approval': 'Change Approval',
    'headers.emails': 'Email Management',

    'dashboard.requests_overview': 'Requests Overview',
    'dashboard.my_unresolved': 'My Unresolved',
    'dashboard.new_requests': 'New',
    'dashboard.to_solve': 'To Solve',
    'dashboard.to_approve': 'To Approve',
    'dashboard.active_maintenance': 'Active Templates',
    'dashboard.total_assets': 'Total Assets',
    'dashboard.upcoming_maintenance': 'Upcoming',

    'role.admin': 'Administrator',
    'role.maintenance': 'Maintenance',
    'role.operator': 'Operator',
    
    'status.new': 'New',
    'status.assigned': 'In Progress',
    'status.solved': 'Solved',
    'status.cancelled': 'Cancelled',
    'status.planned': 'Active',
    'status.in_progress': 'Active',
    'status.done': 'Inactive',
    'status.sent': 'Sent',
    'status.pending': 'Pending',
    'status.error': 'Error',
    
    'prio.basic': 'Basic',
    'prio.priority': 'Priority',
    'prio.urgent': 'Urgent',

    'col.open_requests': 'Requests',
    'col.next_maintenance': 'Interval',
    'col.approved': 'Approved',

    'action.created': 'Created',
    'action.status_change': 'Status Change',
    'action.approved': 'Approved',
    'action.rejected': 'Rejected',
    'action.edited': 'Edited',
    'action.comment': 'Comment'
  },
  uk: {
    'app.name': 'FHB maintain',
    'menu.dashboard': 'Огляд',
    'menu.locations': 'Локації',
    'menu.suppliers': 'Постачальники',
    'menu.tech_config': 'Налаштування Технологій',
    'menu.assets': 'Технології',
    'menu.requests': 'Запити',
    'menu.maintenance': 'Шаблони обслуговування',
    'menu.users': 'Користувачі',
    'menu.emails': 'Електронні листи',
    
    'common.add': 'Додати',
    'common.edit': 'Редагувати',
    'common.delete': 'Видалити',
    'common.save': 'Зберегти',
    'common.cancel': 'Скасувати',
    'common.create': 'Створити',
    'common.actions': 'Дії',
    'common.search': 'Пошук...',
    'common.date': 'Дата',
    'common.status': 'Статус',
    'common.back': 'Назад',
    'common.yes': 'Так',
    'common.no': 'Ні',
    'common.all': 'Все',
    'common.filter': 'Фільтр',
    'common.clear_filter': 'Очистити фільтр',
    'common.selected': 'вибрано',
    'common.ok': 'OK',
    'common.warning': 'Увага',
    'common.confirmation': 'Підтвердження',
    'common.confirm': 'Підтвердити',
    'common.email': 'Email',
    'common.days': 'днів',
    'common.approve': 'Схвалити',
    'common.reject': 'Відхилити',
    'common.page': 'Сторінка',
    'common.per_page': 'на сторінці',
    'common.showing': 'Показано',
    'common.of': 'з',
    'common.subject': 'Тема',
    'common.recipient': 'Одержувач',
    'common.retry': 'Повторити відправку',

    'auth.forgot_password': 'Забули пароль',
    'auth.send_link': 'Надіслати посилання',
    'auth.link_sent_title': 'Посилання надіслано',
    'auth.link_sent_msg': 'Натисніть посилання нижче, щоб симулювати скидання пароля (у продакшн це приходить на пошту).',
    'auth.new_password': 'Новий пароль',
    'auth.reset_password': 'Скинути пароль',
    'auth.reset_success': 'Пароль успішно змінено.',
    'auth.token_invalid': 'Недійсне або прострочене посилання.',
    'auth.back_to_login': 'Повернутися до входу',

    'msg.confirm_delete': 'Ви впевнені, що хочете видалити цей запис?',
    'msg.cannot_delete_used': 'Неможливо видалити, запис використовується.',
    'msg.admin_full_access': 'Адміністратор автоматично має доступ до всіх локацій та робочих місць.',
    'msg.no_my_requests': 'У вас немає активних запитів.',
    'msg.cost_exceeds_limit': 'Вартість перевищує ваш ліміт схвалення. Запит позначено як не схвалений.',
    'msg.must_be_approved': 'Запит повинен бути схвалений перед початком або завершенням робіт.',

    'validation.required': "Це поле є обов'язковим",

    'form.name': 'Назва',
    'form.title': 'Назва',
    'form.serial_number': 'Серійний номер',
    'form.description': 'Опис',
    'form.street': 'Вулиця',
    'form.street_and_number': 'Вулиця та номер',
    'form.number': 'Номер',
    'form.zip': 'Індекс',
    'form.city': 'Місто',
    'form.country': 'Країна',
    'form.email': 'Email',
    'form.phone': 'Телефон',
    'form.ic': 'ЄДРПОУ',
    'form.dic': 'ІПН',
    'form.position': 'Посада',
    'form.role': 'Роль',
    'form.install_date': 'Дата встановлення',
    'form.weight': 'Вага (кг)',
    'form.documentation': 'Документація (посилання)',
    'form.type': 'Тип',
    'form.state': 'Стан',
    'form.workplace': 'Робоче місце',
    'form.location': 'Локація',
    'form.supplier': 'Постачальник',
    'form.user_name': "Ім'я",
    'form.blocked': 'Заблокувати доступ',
    'form.permissions': 'Права доступу та Ліміти',
    'form.photos': 'Фотографії',
    'form.add_photo': 'Додати фото',
    'form.is_visible': 'Активний',
    'form.cancellation_reason': 'Причина скасування',
    'form.planned_resolution_date': 'Очікувана дата вирішення',
    'form.responsible_person': 'Відповідальні особи',
    'form.interval': 'Інтервал (днів)',
    'form.allowed_days': 'Дозволені дні генерації',
    'form.plan_hours': 'Планові години',
    'form.maintenance_type': 'Тип обслуговування',
    'form.final_report': 'Заключний звіт',
    'form.add_note': 'Додати примітку',
    'form.real_date_from': 'Фактична дата з',
    'form.real_date_to': 'Фактична дата по',
    'form.estimated_cost': 'Орієнтовна вартість (EUR)',
    'form.approval_limit': 'Ліміт схвалення (EUR)',
    'form.is_approved': 'Схвалено',

    'day.0': 'Нд',
    'day.1': 'Пн',
    'day.2': 'Вт',
    'day.3': 'Ср',
    'day.4': 'Чт',
    'day.5': 'Пт',
    'day.6': 'Сб',

    'headers.locations': 'Список локацій',
    'headers.new_location': 'Нова локація',
    'headers.edit_location': 'Редагувати локацію',
    'headers.workplaces': 'Робочі місця',
    'headers.new_supplier': 'Новий постачальник',
    'headers.edit_supplier': 'Редагувати постачальника',
    'headers.new_user': 'Новий користувач',
    'headers.new_tech_type': 'Новий тип технології',
    'headers.new_tech_state': 'Новий стан технології',
    'headers.contacts': 'Контактні особи',
    'headers.tech_types': 'Типи технологій',
    'headers.tech_states': 'Стани технологій',
    'headers.new_request': 'Новий запит',
    'headers.new_maintenance': 'Новий шаблон обслуговування',
    'headers.edit_maintenance': 'Редагувати шаблон',
    'headers.request_detail': 'Деталі запиту',
    'headers.maintenance_detail': 'Деталі шаблону',
    'headers.maintenance_plan': 'Шаблони обслуговування',
    'headers.history': 'Історія',
    'headers.my_history': 'Моя історія',
    'headers.comments': 'Коментарі',
    'headers.notes': 'Примітки',
    'headers.cancel_request': 'Скасування запиту',
    'headers.assign_request': 'Прийняти запит',
    'headers.complete_maintenance': 'Завершення обслуговування',
    'headers.change_approval': 'Зміна схвалення',
    'headers.emails': 'Управління Email',

    'dashboard.requests_overview': 'Запити',
    'dashboard.my_unresolved': 'Мої невирішені',
    'dashboard.new_requests': 'Нові',
    'dashboard.to_solve': 'В роботі',
    'dashboard.to_approve': 'На схвалення',
    'dashboard.active_maintenance': 'Активні шаблони',
    'dashboard.total_assets': 'Всього активів',
    'dashboard.upcoming_maintenance': 'Майбутнє',

    'role.admin': 'Адміністратор',
    'role.maintenance': 'Технік',
    'role.operator': 'Оператор',
    
    'status.new': 'Новий',
    'status.assigned': 'В роботі',
    'status.solved': 'Вирішено',
    'status.cancelled': 'Скасовано',
    'status.planned': 'Активний',
    'status.in_progress': 'Активний',
    'status.done': 'Неактивний',
    'status.sent': 'Надіслано',
    'status.pending': 'Очікує',
    'status.error': 'Помилка',
    
    'prio.basic': 'Звичайна',
    'prio.priority': 'Пріоритетна',
    'prio.urgent': 'Термінова',

    'col.open_requests': 'Запити',
    'col.next_maintenance': 'Інтервал',
    'col.approved': 'Схвалено',

    'action.created': 'Створено',
    'action.status_change': 'Зміна статусу',
    'action.approved': 'Схвалено',
    'action.rejected': 'Відхилено',
    'action.edited': 'Відредаговано',
    'action.comment': 'Коментар'
  }
};

export const useI18n = create<I18nStore>((set, get) => ({
  lang: 'cs',
  setLang: (lang) => set({ lang }),
  t: (key) => {
    const lang = get().lang;
    return translations[lang][key] || key;
  }
}));
